<!doctype html><html lang="de"><head><title>ARlebnispfade Oberberg // Pulvermuseum</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta property="og:title" content="Pulvermuseum"><meta property="article:published_time" content="2023-9-27"><meta name="author" content="ARlebnispfade Team // OBK & TH Köln"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/images/favicons/site.webmanifest"><link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5"><meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><link href="/compiled-assets/main.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@cb0bb8407968be713b79008548b7044908ba5729/dist/aframe-master.min.js"></script><script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script><script src="https://rawgit.com/oscarmarinmiro/aframe-video-controls/master/dist/aframe-video-controls.min.js"></script><script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script><script src="/assets/scripts/main.js" defer="defer"></script><script src="/assets/scripts/gestures.js" defer="defer"></script></head><body class="poi"><header class="main-header"><a href="../" class="back-button" data-js-back><span class="icon">arrow_back_ios</span></a><h1>Pulvermuseum</h1></header><main><script>var video

    AFRAME.registerComponent('nfthandler', {
      init: function(){
        this.tick = AFRAME.utils.throttle(this.tick, 500, this);
      },

      tick: function(t, dt) {

        if(document.querySelector("#hammerboy").object3D.visible == true){

          video = document.querySelector('#video');

          video.addEventListener('click', function () { playPauseVideo(); console.log("Video Toggle") })
          
        } else{

        }
      }
    })

    function playPauseVideo(){

      if (video.paused)
          video.play();
        else
          video.pause();
      }


    AFRAME.registerComponent('vidhandler',{
      init: function(){
        let el = this.el;
        let video = document.querySelector("#video");
        video.controls = true
        video.toggle = false;
        video.pause();
        
        el.addEventListener('click',function(){
          if(video.toggle == false){
            video.toggle = true
            video.play()
          }else{
            video.toggle = false;
            video.pause()
          }
        })
        el.addEventListener('dblclick',function(){video.stop()})
        }
      });
      window.addEventListener('load', () => {
        const camera = document.querySelector('[camera]');
        const marker = document.querySelector('a-nft');
        const compoundEntity = document.createElement('a-entity');
        const text = document.createElement('a-text');
        const textScale = 100
        text.setAttribute('look-at', '[camera]')
        text.setAttribute('scale', {
          x: textScale,
          y: textScale,
          z: textScale
        })
        text.setAttribute('align', 'center')
        compoundEntity.appendChild(text)
        let check;
  
        marker.addEventListener('markerFound', () => {
            let cameraPosition = camera.object3D.position;
            let markerPosition = marker.object3D.position;
            let distance = cameraPosition.distanceTo(markerPosition)
  
            check = setInterval(() => {
              cameraPosition = camera.object3D.position;
              markerPosition = marker.object3D.position;
              distance = cameraPosition.distanceTo(markerPosition)
  
              // do what you want with the distance:
              text.setAttribute('value', toString(distance.toFixed(2)) + '?')
            }, 100);
        });
      
        marker.addEventListener('markerLost', () => {
          clearInterval(check);
        })
      });</script><div class="arjs-loader"><div>Loading, please wait...</div></div><a-scene embedded stats vr-mode-ui="enabled: false;" renderer="logarithmicDepthBuffer: true;" arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;" antialias="true" gesture-detector id="scene"><a-assets><a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item><video id="video" controls src="../ar-media/videos/mov_bbb.mp4" loop></video></a-assets><a-nft class="muenzschlaeger-nft" type="nft" url="wipperfuerth/ar-media/images/muenzschlaeger" smooth="true" smoothcount="10" smoothtolerance=".01" smooththreshold="5" raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse"><a-entity gltf-model="../ar-media/models/Muenzschlaeger_T.glb" scale="50 50 50" position="0 -200 -200" rotation="0 0 0" class="clickable" gesture-handler="minScale: 0.25; maxScale: 10"><a-entity text-geometry="value: Muenzschlaeger" material="color: white" rotation="-90 0 0" position="0 0 -1"></a-entity></a-entity></a-nft><a-nft id="hammerboy" class="hammerboy-nft" nfthandler type="nft" url="wipperfuerth/ar-media/images/hammerboy" smooth="true" smoothcount="10" smoothtolerance=".01" smooththreshold="5" raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse"><a-video id="video" src="#video" width="160" height="90" position="0 0 -20" rotation="90 0 180" gesture-handler="minScale: 0.25; maxScale: 10"></a-video></a-nft><a-nft type="nft" url="wipperfuerth/ar-media/images/pulvermuseum" smooth="true" smoothcount="10" smoothtolerance=".01" smooththreshold="5" raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse"><a-entity gltf-model="”url(../ar-media/models/Parrot.glb)”" animation-mixer gesture-handler="minScale: 0.25; maxScale: 10"></a-entity></a-nft><a-entity camera></a-entity></a-scene></main><div class="card"><div class="info"><div class="info-head"><h1 class="title"></h1><div class="close"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg></div></div><p class="description"></p><p class="duration"></p></div></div><footer class="main-footer">27.09.2023 // 8:3:0 // <a href="/impressum/index.html">Impressum</a></footer></body></html>